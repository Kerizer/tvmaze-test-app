import{d as v,o as r,c as d,a as e,t,j as s,_ as $,m as I,n as g,g as k,k as N,q as E,s as C,F as x,h as T,x as B,i as M,p as R,e as D}from"./index-a18e54c6.js";import{s as L,u as V,S as F}from"./ShowCard-d4abb7fd.js";const H={class:"episode-card"},j={class:"episode-title"},z={class:"episode-data"},A={class:"episode-poster"},P=["src","alt"],q={key:1},G={class:"episode-info"},O=["innerHTML"],U={class:"episode-meta"},W=v({__name:"EpisodeCard",props:{id:null,name:null,episodeNumber:null,seasonNumber:null,imageSrc:null,description:null,runtime:null,date:null,rating:null},setup(c){const o=c;return(l,y)=>(r(),d("div",H,[e("h5",j,t(`Season ${o.seasonNumber.toString()}, Episode ${o.episodeNumber.toString()}: ${o.name}`),1),e("div",z,[e("div",A,[o.imageSrc?(r(),d("img",{key:0,src:o.imageSrc,alt:`Poster for the episode called '${o.name}'`},null,8,P)):(r(),d("div",q))]),e("div",G,[e("div",{class:"episode-description",innerHTML:s(L)(o.description||"")},null,8,O),e("div",U,[e("p",null,"Date: "+t(o.date),1),e("p",null,"Runtime: "+t(o.runtime),1),e("p",null,"Rating: "+t(o.rating),1)])])])]))}});const J=$(W,[["__scopeId","data-v-124c34c4"]]),K=c=>(R("data-v-471b991a"),c=c(),D(),c),Q={key:0},X={class:"show-main-info"},Y={class:"show-details"},Z=["href"],ee={key:1},se={class:"aired-info"},ne=K(()=>e("h4",null,"Episodes",-1)),te=v({__name:"ShowInfo",setup(c){const o=B(),l=V();I(()=>{l.getShowInfo(Number(o.params.showId),!0)});const y=g(()=>{var n,m;return((m=(n=l.currentShowInfo)==null?void 0:n._embedded)==null?void 0:m.episodes)||[]}),a=g(()=>l.currentShowInfo),w=g(()=>{var p;const n=(p=l.currentShowInfo)==null?void 0:p.schedule;if(!n)return"N/A";const[m,f]=n.time.split(":"),u=`${m}:${f.padStart(2,"0")}`;return n.days.length===1?`Every ${n.days[0]} at ${u}`:n.days.length===5&&n.days.includes("Monday")&&n.days.includes("Tuesday")&&n.days.includes("Wednesday")&&n.days.includes("Thursday")&&n.days.includes("Friday")?`Every weekday at ${u}`:`Every ${n.days.sort((_,h)=>_.localeCompare(h)).reduce((_,h,S,b)=>(S===0?_+=h:S===b.length-1?_+=` and ${h}`:_+=`, ${h}`,_),"")} at ${u}`});return k(()=>{l.clearCurrentShowInfo()}),(n,m)=>{var f,u;return r(),d("div",null,[s(a)?(r(),d("div",Q,[e("div",X,[N(F,{show:s(a)},null,8,["show"]),e("div",Y,[e("p",null,"Network: "+t((f=s(a).network)==null?void 0:f.name),1),e("p",null,"Show type: "+t(s(a).type),1),e("p",null,"Language: "+t(s(a).language),1),e("p",null,"Genres: "+t((u=s(a).genres)==null?void 0:u.join(", ")),1),e("p",null,"Status: "+t(s(a).status),1),e("p",null,[E(" Official site: "),s(a).officialSite?(r(),d("a",{key:0,href:s(a).officialSite},t(s(a).officialSite),9,Z)):(r(),d("span",ee,"N/A"))])])]),e("div",se,[e("p",null,"Premiered: "+t(s(a).premiered),1),e("p",null,"Ended: "+t(s(a).ended),1),e("p",null,"Runtime average: "+t(s(a).averageRuntime),1),e("p",null,"Schedule: "+t(s(w)),1)])])):C("",!0),ne,(r(!0),d(x,null,T(s(y),i=>{var p;return r(),M(J,{key:i.id,"episode-number":i.number,"season-number":i.season,id:i.id,name:i.name,description:i.summary,"image-src":(p=i.image)==null?void 0:p.medium,date:i.airdate,runtime:i.runtime,rating:i.rating.average},null,8,["episode-number","season-number","id","name","description","image-src","date","runtime","rating"])}),128))])}}});const ie=$(te,[["__scopeId","data-v-471b991a"]]);export{ie as default};
