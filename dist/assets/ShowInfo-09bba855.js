import{d as w,o as i,c as l,a as e,t as a,j as s,_ as b,f as B,m as S,k as N,n as k,q as L,F as $,h as R,i as C,p as D,e as M,g as V,l as I,S as F,s as H}from"./index-c3de3005.js";import{s as j,u as E,S as z}from"./ShowCard-4bac4d43.js";const P={class:"episode-card"},q={class:"episode-title"},G={class:"episode-data"},O={class:"episode-poster"},U=["src","alt"],W={key:1},J={class:"episode-info"},K=["innerHTML"],Q={class:"episode-meta"},X=w({__name:"EpisodeCard",props:{id:null,name:null,episodeNumber:null,seasonNumber:null,imageSrc:null,description:null,runtime:null,date:null,rating:null},setup(c){const t=c;return(_,y)=>(i(),l("div",P,[e("h5",q,a(`Season ${t.seasonNumber.toString()}, Episode ${t.episodeNumber.toString()}: ${t.name}`),1),e("div",G,[e("div",O,[t.imageSrc?(i(),l("img",{key:0,src:t.imageSrc,alt:`Poster for the episode called '${t.name}'`},null,8,U)):(i(),l("div",W))]),e("div",J,[e("div",{class:"episode-description",innerHTML:s(j)(t.description||"")},null,8,K),e("div",Q,[e("p",null,"Date: "+a(t.date),1),e("p",null,"Runtime: "+a(t.runtime||"N/A"),1),e("p",null,"Rating: "+a(t.rating||"N/A"),1)])])])]))}});const Y=b(X,[["__scopeId","data-v-e5b482cb"]]),Z=c=>(D("data-v-6cc4d5e9"),c=c(),M(),c),ee={key:0},se={class:"show-main-info"},ne={class:"show-details"},te=["href"],oe={key:1},ae={class:"aired-info"},re=Z(()=>e("h4",null,"Episodes",-1)),ie=w({__name:"ShowInfoContainer",props:{showId:null},async setup(c){let t,_;const y=c,p=E();[t,_]=B(()=>p.getShowInfo(y.showId,!0)),await t,_();const x=S(()=>{var n,m;return((m=(n=p.currentShowInfo)==null?void 0:n._embedded)==null?void 0:m.episodes)||[]}),o=S(()=>p.currentShowInfo),T=S(()=>{var h;const n=(h=p.currentShowInfo)==null?void 0:h.schedule;if(!n||!n.time&&!n.days.length)return"N/A";const[m,g]=n.time.split(":"),u=n.time?`${m}:${g.padStart(2,"0")}`:"";return n.days.length===1?`Every ${n.days[0]} at ${u}`:n.days.length===5&&n.days.includes("Monday")&&n.days.includes("Tuesday")&&n.days.includes("Wednesday")&&n.days.includes("Thursday")&&n.days.includes("Friday")?`Every weekday at ${u}`:`Every ${n.days.sort((d,f)=>d.localeCompare(f)).reduce((d,f,v,A)=>(v===0?d+=f:v===A.length-1?d+=` and ${f}`:d+=`, ${f}`,d),"")} at ${u}`});return(n,m)=>{var g,u;return i(),l($,null,[s(o)?(i(),l("div",ee,[e("div",se,[N(z,{show:s(o)},null,8,["show"]),e("div",ne,[e("p",null,"Network: "+a((g=s(o).network)==null?void 0:g.name),1),e("p",null,"Show type: "+a(s(o).type),1),e("p",null,"Language: "+a(s(o).language),1),e("p",null,"Genres: "+a(s(o).genres&&s(o).genres.length?(u=s(o).genres)==null?void 0:u.join(", "):"N/A"),1),e("p",null,"Status: "+a(s(o).status),1),e("p",null,[k(" Official site: "),s(o).officialSite?(i(),l("a",{key:0,href:s(o).officialSite},a(s(o).officialSite),9,te)):(i(),l("span",oe,"N/A"))])])]),e("div",ae,[e("p",null,"Premiered: "+a(s(o).premiered),1),e("p",null,"Ended: "+a(s(o).ended),1),e("p",null,"Runtime average: "+a(s(o).averageRuntime),1),e("p",null,"Schedule: "+a(s(T)),1)])])):L("",!0),re,(i(!0),l($,null,R(s(x),r=>{var h,d;return i(),C(Y,{key:r.id,"episode-number":r.number,"season-number":r.season,id:r.id,name:r.name,description:r.summary,"image-src":(h=r.image)==null?void 0:h.medium,date:r.airdate,runtime:r.runtime,rating:(d=r.rating)==null?void 0:d.average},null,8,["episode-number","season-number","id","name","description","image-src","date","runtime","rating"])}),128))],64)}}});const de=b(ie,[["__scopeId","data-v-6cc4d5e9"]]),ue=w({__name:"ShowInfo",setup(c){const t=H(),_=E();return V(()=>{_.clearCurrentShowInfo()}),(y,p)=>(i(),C(F,null,{fallback:I(()=>[k(" Loading... ")]),default:I(()=>[N(de,{showId:Number(s(t).params.showId)},null,8,["showId"])]),_:1}))}});export{ue as default};
